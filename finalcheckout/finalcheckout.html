<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Checkout</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body { background-color: #f8f9fa; }
    .progress-steps { display: flex; justify-content: center; gap: 2rem; margin-bottom: 2rem; }
    .progress-steps .step { text-align: center; font-weight: 500; color: #6c757d; }
    .progress-steps .active { color: #0d6efd; font-weight: 700; }
    .order-summary { position: sticky; top: 1rem; }
  </style>
</head>
<body>

 <div class="container py-5">
 
    <div class="progress-steps mb-4">
      <div class="step">Cart</div>
      <div class="step">Address</div>
      <div class="step">Payment</div>
      <div class="step active">Checkout</div>
    </div>

    <div class="row g-4">
      
      <div class="col-12 col-lg-7">
        <form id="checkoutForm" novalidate class="card p-4 shadow-sm">
          <h4 class="mb-3">Customer & Shipping</h4>

          
          <div class="mb-3">
            <label for="fullName" class="form-label">Full name</label>
            <input type="text" id="fullName" class="form-control" required>
            <div class="invalid-feedback"></div>
          </div>

          
          <div class="row g-3">
            <div class="col-md-6">
              <label for="email" class="form-label">Email</label>
              <input type="email" id="email" class="form-control" required>
              <div class="invalid-feedback"></div>
            </div>
            <div class="col-md-6">
              <label for="phone" class="form-label">Phone</label>
              <input type="text" id="phone" class="form-control" required>
              <div class="invalid-feedback"></div>
            </div>
          </div>

         
          <div class="mt-3">
            <label for="address" class="form-label">Address</label>
            <input type="text" id="address" class="form-control" required>
            <div class="invalid-feedback"></div>
          </div>

          <div class="row g-3 mt-3">
            <div class="col-md-4">
              <label for="city" class="form-label">City</label>
              <input type="text" id="city" class="form-control" required>
              <div class="invalid-feedback"></div>
            </div>
            <div class="col-md-4">
              <label for="postal" class="form-label">Postal code</label>
              <input type="text" id="postal" class="form-control" required>
              <div class="invalid-feedback"></div>
            </div>
            <div class="col-md-4">
              <label for="country" class="form-label">Country</label>
              <select id="country" class="form-select" required>
                <option value="">Choose...</option>
                <option>United States</option>
                <option>Canada</option>
                <option>United Kingdom</option>
                <option>India</option>
              </select>
              <div class="invalid-feedback"></div>
            </div>
          </div>

          
          <div class="form-check mt-3">
            <input class="form-check-input" type="checkbox" id="billingSame">
            <label class="form-check-label" for="billingSame">Billing same as shipping</label>
          </div>

          <hr class="my-4">

          <h5 class="mb-3">Payment Method</h5>

          <div class="form-check">
            <input class="form-check-input" type="radio" name="paymentMethod" id="payCard" value="card">
            <label class="form-check-label" for="payCard">Credit / Debit Card</label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" name="paymentMethod" id="payCOD" value="cod">
            <label class="form-check-label" for="payCOD">Cash on Delivery</label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" name="paymentMethod" id="payWallet" value="wallet">
            <label class="form-check-label" for="payWallet">Wallet</label>
          </div>
          <div id="paymentError" class="text-danger small mt-1"></div>

          
          <div id="cardDetails" class="mt-3" style="display:none;">
            <div class="mb-3">
              <label for="cardName" class="form-label">Cardholder Name</label>
              <input type="text" id="cardName" class="form-control">
              <div class="invalid-feedback"></div>
            </div>
            <div class="mb-3">
              <label for="cardNumber" class="form-label">Card Number</label>
              <input type="text" id="cardNumber" class="form-control" maxlength="16" placeholder="16 digits">
              <div class="invalid-feedback"></div>
            </div>
            <div class="row g-3">
              <div class="col-md-6">
                <label for="cardExpiry" class="form-label">Expiry</label>
                <input type="month" id="cardExpiry" class="form-control">
                <div class="invalid-feedback"></div>
              </div>
              <div class="col-md-6">
                <label for="cardCVV" class="form-label">CVV</label>
                <input type="text" id="cardCVV" class="form-control" maxlength="3">
                <div class="invalid-feedback"></div>
              </div>
            </div>
          </div>

          <hr class="my-4">

         
          <div class="form-check mb-3">
            <input class="form-check-input" type="checkbox" id="terms">
            <label class="form-check-label" for="terms">I agree to the terms and conditions</label>
          </div>
          <div id="termsError" class="text-danger small mb-2"></div>

          <button type="submit" class="btn btn-primary w-100 py-2">Place Order</button>
        </form>
      </div>

   
      <div class="col-12 col-lg-5">
        <div class="order-summary card p-4 shadow-sm">
          <h5 class="mb-3">Order Summary</h5>
          <ul class="list-group mb-3">
            <li class="list-group-item d-flex justify-content-between lh-sm">
              <div><h6 class="my-0">Love Never Dies — Standard</h6><small>Qty: 2</small></div>
              <span>$60.00</span>
            </li>
            <li class="list-group-item d-flex justify-content-between lh-sm">
              <div><h6 class="my-0">Pole Dancing — VIP</h6><small>Qty: 1</small></div>
              <span>$45.00</span>
            </li>
            <li class="list-group-item d-flex justify-content-between"><span>Subtotal</span><strong>$165.00</strong></li>
            <li class="list-group-item d-flex justify-content-between"><span>Shipping</span><strong>$5.00</strong></li>
            <li class="list-group-item d-flex justify-content-between"><span>Tax</span><strong>$13.20</strong></li>
            <li class="list-group-item d-flex justify-content-between"><strong>Grand total</strong><strong>$183.20</strong></li>
          </ul>

          <div class="input-group">
            <input type="text" class="form-control" placeholder="Coupon code (optional)">
            <button class="btn btn-outline-secondary" type="button">Apply</button>
          </div>
          <small class="text-muted mt-2 d-block">Coupons are demo-only and non-functional.</small>
        </div>
      </div>
    </div>
  </div>

  
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <script>
  $(document).ready(function() {

    
    $("input[name='paymentMethod']").change(function() {
      if ($("#payCard").is(":checked")) $("#cardDetails").slideDown();
      else $("#cardDetails").slideUp();
    });

    $("#checkoutForm").on("submit", function(e) {
      e.preventDefault();
      let isValid = true;

      function showError(input, message) {
        input.addClass("is-invalid");
        input.next(".invalid-feedback").text(message);
        isValid = false;
      }

      function clearError(input) {
        input.removeClass("is-invalid").addClass("is-valid");
        input.next(".invalid-feedback").text("");
      }

      
      const fullName = $("#fullName");
      if (fullName.val().trim().length < 3) showError(fullName, "Full name must be at least 3 characters."); else clearError(fullName);

      const email = $("#email");
      const emailPattern = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;
      if (!emailPattern.test(email.val().trim())) showError(email, "Enter a valid email."); else clearError(email);

      const phone = $("#phone");
      const phonePattern = /^\\d{10,}$/;
      if (!phonePattern.test(phone.val().trim())) showError(phone, "Phone must have at least 10 digits."); else clearError(phone);

      const address = $("#address");
      if (address.val().trim() === "") showError(address, "Address required."); else clearError(address);

      const city = $("#city");
      if (city.val().trim() === "") showError(city, "City required."); else clearError(city);

      const postal = $("#postal");
      const postalPattern = /^\\d{4,6}$/;
      if (!postalPattern.test(postal.val().trim())) showError(postal, "Postal code must be 4–6 digits."); else clearError(postal);

      const country = $("#country");
      if (country.val() === "") showError(country, "Select a country."); else clearError(country);

      const payment = $("input[name='paymentMethod']:checked");
      if (payment.length === 0) {
        $("#paymentError").text("Please select a payment method.").show();
        isValid = false;
      } else $("#paymentError").hide();

   
      if (payment.val() === "card") {
        const cardName = $("#cardName");
        const cardNumber = $("#cardNumber");
        const cardExpiry = $("#cardExpiry");
        const cardCVV = $("#cardCVV");

        if (cardName.val().trim() === "") showError(cardName, "Cardholder name required."); else clearError(cardName);
        if (!/^\\d{16}$/.test(cardNumber.val().trim())) showError(cardNumber, "Enter 16-digit card number."); else clearError(cardNumber);
        if (cardExpiry.val().trim() === "") showError(cardExpiry, "Expiry required."); else clearError(cardExpiry);
        if (!/^\\d{3}$/.test(cardCVV.val().trim())) showError(cardCVV, "CVV must be 3 digits."); else clearError(cardCVV);
      }

      const terms = $("#terms");
      if (!terms.is(":checked")) { $("#termsError").text("You must agree before placing order.").show(); isValid = false; }
      else $("#termsError").hide();

      if (!isValid) {
        $('html, body').animate({
          scrollTop: $(".is-invalid:first").offset().top - 100
        }, 500);
      } else {
        alert("Order placed successfully!");
        this.reset();
        $(".is-valid").removeClass("is-valid");
      }
    });
  });
  </script>
</body>
</html>
